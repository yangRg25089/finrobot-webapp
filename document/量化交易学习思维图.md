
# 🧠 量化交易学习思维图

```
量化交易 (Quantitative Trading)
│
├── 基础认知
│   ├── 什么是量化
│   ├── 量化 vs 主观交易
│   ├── 量化交易的优势与风险
│   └── 常见策略类型（趋势、套利、机器学习）
│
├── 数据层
│   ├── 数据获取
│   │   ├── 历史行情数据
│   │   ├── 实时行情数据
│   │   ├── 财报 & 宏观数据
│   │   └── 替代数据（新闻、情绪、社交媒体）
│   ├── 数据清洗
│   │   ├── 缺失值处理
│   │   ├── 异常值检测
│   │   └── 数据标准化
│   └── 数据存储
│       ├── SQL 数据库
│       └── 时间序列数据库
│
├── 策略研究
│   ├── 经典策略
│   │   ├── 趋势跟随（MA、突破）
│   │   ├── 均值回归（配对交易、统计套利）
│   │   └── 多因子选股
│   ├── 高级策略
│   │   ├── 高频交易（HFT）
│   │   ├── 期权与衍生品量化
│   │   └── 机器学习 & 深度学习
│   └── 风险管理
│       ├── 仓位管理
│       ├── 止损止盈
│       └── 风险指标（VaR、夏普比率、最大回撤）
│
├── 回测与模拟
│   ├── 回测框架
│   │   ├── Backtrader
│   │   ├── Zipline
│   │   └── 自建框架
│   ├── 回测原则
│   │   ├── 避免未来函数
│   │   ├── 考虑交易成本
│   │   └── 防止过拟合
│   └── 模拟交易
│       ├── 纸上交易（Paper Trading）
│       └── 仿真环境
│
├── 实盘交易
│   ├── 接口对接
│   │   ├── 股票券商 API
│   │   ├── 期货 API
│   │   └── 加密货币交易所 API
│   ├── 自动化交易系统
│   │   ├── 下单模块
│   │   ├── 风控模块
│   │   └── 监控报警
│   └── 部署与运维
│       ├── 本地部署
│       ├── 云端部署
│       └── 高性能优化（并行、低延迟）
│
└── 学习资源
    ├── 数学基础（概率统计、时间序列）
    ├── 金融理论（有效市场、衍生品定价）
    ├── 编程技能（Python、C++、SQL）
    └── 工具与平台（QuantConnect、聚宽、米筐等）
```
* 从 **基础概念** → **数据** → **策略** → **回测** → **实盘** → **运维**，是一条完整的学习路径。
* Python / 数据库 / 回测框架是第一步必须要打牢的。



---

# 📘 量化交易常见策略类型

## 1. 趋势类策略（Trend Following）

* **核心思想**：顺势而为，认为价格会延续当前趋势。
* **常见方法**：

  * **均线交叉（Moving Average Crossover）**：短期均线突破长期均线买入，反之卖出。
  * **动量策略（Momentum）**：过去表现好的资产未来也会继续上涨，买强卖弱。
  * **突破策略（Breakout）**：价格突破区间高点/低点时买入/卖出。
* **优点**：简单直观，容易实现；在大趋势行情中效果好。
* **缺点**：震荡行情下容易频繁止损，亏损累积。

---

## 2. 套利类策略（Arbitrage）

* **核心思想**：利用市场定价错误，低买高卖，赚取无风险或低风险收益。
* **常见方法**：

  * **统计套利（Statistical Arbitrage）**：利用相关性（如配对交易：买入被低估的，卖出被高估的）。
  * **跨市场套利**：不同交易所或市场之间的价格差（常见于加密货币）。
  * **期现套利**：期货与现货的价差套利。
  * **跨品种套利**：例如原油和成品油价格的相关性套利。
* **优点**：风险可控，理论上比较稳健。
* **缺点**：需要高频交易和低延迟环境；随着市场效率提升，套利空间越来越小。

---

## 3. 机器学习类策略（ML / AI Driven）

* **核心思想**：用算法学习数据中的规律，预测未来价格或分类市场状态。
* **常见方法**：

  * **监督学习**：用历史特征预测未来涨跌（如随机森林、XGBoost）。
  * **无监督学习**：聚类市场状态（例如多头市场、震荡市场）。
  * **深度学习**：RNN/LSTM/Transformer 等用于时间序列预测。
  * **强化学习**：训练智能体直接做买卖决策。
* **优点**：能捕捉非线性关系，适合复杂市场环境。
* **缺点**：容易过拟合，需要大量高质量数据；模型可解释性差。

---

# 📊 总结对比

| 策略类型  | 思路             | 优点            | 缺点           | 典型应用           |
| ----- | -------------- | ------------- | ------------ | -------------- |
| 趋势类   | 顺势而为（均线、动量、突破） | 简单直观，趋势行情好用   | 震荡时易失效       | 股票、期货、外汇       |
| 套利类   | 利用定价差赚取差价      | 风险低，稳健        | 空间小，竞争激烈     | 期现、跨市场、加密货币    |
| 机器学习类 | 算法发现规律，预测或决策   | 能处理复杂数据，捕捉非线性 | 需要大量数据，过拟合风险 | 高频交易、量化基金、AI选股 |

---


**常见数据源 & 对应 Python 工具包对照表**

---

# 📊 常见数据源 & Python 工具包

| 数据类别              | 数据源                    | Python 工具包                | 说明                   |
| ----------------- | ---------------------- | ------------------------- | -------------------- |
| **股票 / ETF 历史数据** | Yahoo Finance          | `yfinance`                | 免费，日级/分钟级行情，支持财务数据   |
|                   | Alpha Vantage          | `alpha_vantage`           | 免费额度有限，API Key 必须    |
|                   | IEX Cloud              | `iexfinance`              | 美股实时/历史行情，需注册 API    |
|                   | Tushare（中国市场）          | `tushare`                 | A股行情、财务、宏观数据         |
| **宏观经济数据**        | FRED (Federal Reserve) | `fredapi`                 | 美国宏观经济指标（GDP、CPI、利率） |
|                   | 世界银行                   | `wbdata`                  | 全球经济数据               |
| **加密货币数据**        | Binance                | `ccxt` / `python-binance` | 支持数百家交易所，统一 API      |
|                   | Coinbase               | `ccxt`                    | 同上                   |
|                   | CryptoCompare          | `cryptocompare`           | 免费接口，支持行情和链上数据       |
| **期货 / 外汇数据**     | OANDA                  | `oandapyV20`              | 外汇、CFD，需注册 API       |
|                   | IB (盈透证券)              | `ib_insync`               | 股票/期货/期权全品类，专业级接口    |
| **基本面数据**         | Yahoo Finance          | `yfinance`                | 支持公司财报、估值指标          |
|                   | Alpha Vantage          | `alpha_vantage`           | 提供财务报表数据             |
|                   | Tushare                | `tushare`                 | A股上市公司财务、新闻、宏观       |
| **新闻 & 情绪数据**     | NewsAPI                | `newsapi-python`          | 新闻标题，情绪分析可配合 NLP     |
|                   | Twitter/X              | `tweepy`                  | 社交媒体数据，事件驱动策略常用      |
| **综合平台**          | Quandl                 | `quandl`                  | 金融+经济+另类数据，部分免费      |
|                   | 聚宽 (JoinQuant)         | 内置 API                    | 中文社区活跃，适合入门          |
|                   | 米筐 (RiceQuant)         | 内置 API                    | 与聚宽类似，支持回测 & 实盘      |


---

# 📘 数据清洗（Data Cleaning）

## 1. 为什么要数据清洗

* **缺失值**：历史行情中可能缺少某些日期的价格。
* **异常值**：突然的极端值（可能是数据源错误）。
* **格式问题**：日期格式不一致、股票代码不统一。
* **噪声数据**：非交易日的数据、假成交记录。

一句话总结：
👉 数据清洗的目标是 **把原始数据处理成干净、连续、可用的数据集**。

---

## 2. 数据清洗的主要步骤

### (1) 缺失值处理

* **删除**：若缺失值比例很小，可以直接删除。
* **填充**：

  * 前向填充（forward fill）：用前一天数据填补。
  * 后向填充（backward fill）：用后一天数据填补。
  * 插值法（interpolation）：用线性/样条插值补齐。

### (2) 异常值处理

* **识别方法**：

  * 统计法：超过均值 ± 3σ 的数据点。
  * 规则法：价格为负数、成交量异常大等。
* **处理方法**：

  * 删除异常点。
  * 平滑替换（如用相邻均值代替）。

### (3) 时间序列对齐

* **对齐交易日历**：补齐节假日或停牌日。
* **多资产同步**：确保多只股票/多个市场的数据在同一时间维度对齐。

### (4) 数据标准化与归一化

* **标准化**（z-score）：使不同量纲的数据可比。
* **归一化**（0\~1）：适合机器学习模型。

### (5) 去重 & 格式化

* 删除重复行。
* 统一日期格式（YYYY-MM-DD）。
* 股票代码映射（如 AAPL ↔ Apple Inc）。

---

## 3. Python 常见工具包

| 功能     | 工具包                       | 用法                                     |
| ------ | ------------------------- | -------------------------------------- |
| 数据处理   | `pandas`                  | `fillna()`、`interpolate()`、`dropna()`  |
| 数值运算   | `numpy`                   | 处理数组计算、异常值检测                           |
| 时间序列处理 | `pandas`                  | `resample()`、`asfreq()`、`merge_asof()` |
| 金融数据清洗 | `pandas_market_calendars` | 获取市场交易日历，补齐停牌/节假日                      |

---

## 4. 示例代码（股票数据清洗）

```python
import pandas as pd
import yfinance as yf

# 获取数据
df = yf.download("AAPL", start="2022-01-01", end="2023-01-01")

# 缺失值处理（前向填充）
df = df.fillna(method="ffill")

# 异常值处理（超过均值±3σ的价格）
mean, std = df["Close"].mean(), df["Close"].std()
df["Close"] = df["Close"].apply(lambda x: mean if abs(x-mean) > 3*std else x)

# 统一时间序列（按交易日填补）
df = df.asfreq("B", method="ffill")

print(df.head())
```

---

好的 ✅ 那我们进入 **策略研究 → 经典策略** 这一块。
既然你主要关注 **低频策略**（日线/周线），我就会以低频为主介绍，同时顺带提一下高频，只是帮助理解。

---

# 📘 策略研究：经典策略

## 1. 趋势跟随（Trend Following）

* **核心思想**：价格一旦形成趋势，未来往往会延续。
* **典型方法**：

  * **均线交叉**：短期均线上穿长期均线买入，下穿卖出。
  * **动量策略**：买入过去 3/6/12 个月涨幅高的资产，卖出跌幅大的。
  * **突破策略**：价格突破某区间高点 → 买入；跌破区间低点 → 卖出。
* **应用**：股票、期货、外汇。
* **优点**：逻辑简单，在大趋势行情中效果好。
* **缺点**：震荡行情容易频繁止损。

---

## 2. 均值回归（Mean Reversion）

* **核心思想**：价格围绕“合理区间”波动，偏离过多就会回归。
* **典型方法**：

  * **布林带策略**：价格突破布林带上轨 → 卖出；跌破下轨 → 买入。
  * **配对交易（Pairs Trading）**：选取高度相关的两只股票，当价差偏离正常水平时做空高估的、做多低估的。
  * **RSI 策略**：相对强弱指标 RSI>70 卖出，RSI<30 买入。
* **应用**：股票、ETF、商品。
* **优点**：在震荡市里表现好。
* **缺点**：趋势行情中容易亏损。

---

## 3. 多因子选股（Multi-Factor Models）

* **核心思想**：根据多维度指标筛选出更可能上涨的股票。
* **常见因子**：

  * **价值因子**（PE、PB 低 → 便宜股）。
  * **成长因子**（营收、利润增长快 → 成长股）。
  * **动量因子**（近期涨幅大 → 强势股）。
  * **质量因子**（ROE、负债率低 → 优质股）。
* **应用**：机构最常用，常见于量化基金。
* **优点**：组合更稳健，不依赖单一指标。
* **缺点**：因子可能失效（如价值股长期跑输成长股）。

---

## 4. 统计套利（Statistical Arbitrage）

* **核心思想**：利用资产间的统计关系套利。
* **方法**：

  * **协整检验**：两资产长期走势一致，但短期偏离 → 可套利。
  * **篮子交易**：对多个股票建模，捕捉价格偏离。
* **应用**：对冲基金常用，适合市场中性策略。
* **优点**：风险较小，收益稳定。
* **缺点**：对建模和统计要求高。

---

## 5. 事件驱动（Event Driven）

* **核心思想**：重大事件会对资产价格产生短期影响。
* **常见事件**：

  * 公司财报 → 超预期上涨，低于预期下跌。
  * 并购、分红、回购消息。
  * 政策公告、宏观新闻。
* **应用**：股票、债券、期货。
* **优点**：能捕捉短期波动机会。
* **缺点**：需要快速反应，信息优势要求高。

---

# 📊 总结表格

| 策略类型  | 思路              | 优点      | 缺点     | 典型应用   |
| ----- | --------------- | ------- | ------ | ------ |
| 趋势跟随  | 顺势而为（均线、动量、突破）  | 简单直观    | 震荡市失效  | 股票/期货  |
| 均值回归  | 偏离必回归（布林带、配对交易） | 震荡市有效   | 趋势市失效  | 股票/ETF |
| 多因子选股 | 多维度选优质资产        | 稳健、组合化  | 因子可能失效 | 股票组合   |
| 统计套利  | 价格关系偏离即套利       | 风险低     | 技术难度高  | 股票对冲   |
| 事件驱动  | 重大事件触发行情        | 把握事件性机会 | 时效性强   | 股票/债券  |

---
